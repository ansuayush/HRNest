@using System.Data
@model IList<Mitr.Models.OvertimeList>



@using (Ajax.BeginForm("_ActionOnOvertime", "Activity",
        new { src = clsApplicationSetting.EncryptQueryString(ViewBag.MenuID.ToString() + "*/Activity/_ActionOnOvertime") },
        new AjaxOptions { HttpMethod = "POST", OnSuccess = "OnSuccessAction" },
    new { @id = "_ActionOnOvertimeFrom" })
    )
{

    @Html.AntiForgeryToken()

    <div class="x_content table-currency mt-0">
        <div class="table-responsive">
            <table id="tableApprove" class="table table-striped table-bordered dt-responsive nowrap tbltick new_width" style="border-collapse: collapse; border-spacing: 0; width: 100%;">
                <thead>
                    <tr>
                        <th>S.no.</th>
                        <th>Employee Code</th>
                        <th>Employee Name</th>
                        <th>Project Name	</th>
                        <th>Description</th>
                        <th>Date</th>
                        <th>Applied Overtime Hours	</th>
                        <th>Approved Overtime Hours	</th>

                        @if (ViewBag.Approve == "0")
                        {
                            <th>
                                <input type="checkbox" class="newwidth" id="checkAll" name="ChkAll" value="All" />
                                <label for="checkAll"></label>
                            </th>
                        }

                    </tr>
                    <tr class="searchbar">
                        <th class="searchhide"> </th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>

                        @if (ViewBag.Approve == "0")
                        {
                            <th class="searchhide"> </th>
                        }

                    </tr>
                </thead>
                <tbody>
                    @{ int Count = 0;}
                    @for (int i = 0; i < Model.Count; i++)
                    {

                        Count++;
                        <tr>
                            <td>
                                @Count
                                @Html.HiddenFor(x => Model[i].OvertimeID)
                            </td>
                            <td> @Model[i].Emp_Code</td>
                            <td> @Model[i].Emp_name</td>
                            <td> @Model[i].proj_name</td>
                            <td> @Model[i].description</td>
                            <td> @Model[i].Date</td>
                            <td>
                                @Model[i].hours
                                @Html.HiddenFor(x => Model[i].hours, new { @class = "appliedhours" })
                            </td>
                            <td>
                                @Html.TextBoxFor(model => model[i].Approve_hours, new { @class = "form-control aaprovedhours" })
                                @Html.ValidationMessageFor(model => model[i].Approve_hours, "", new { @class = "text-danger" })

                            </td>

                            @if (ViewBag.Approve == "0")
                            {
                                <td>
                                    <input type="checkbox" class="newwidth chksingle" id="Chksingle_@Count" name="@Html.NameFor(x=>Model[i].CheckSelected)" />
                                    <label for="Chksingle_@Count"></label>
                                </td>
                            }

                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

     if (Model.Count > 0 && ViewBag.Approve == "0")
    {
        <div class="row">

            <button type="submit" class="btn mtr-o-grn btn-l btnCompensatory pull-right" name="Command" value="Approved"><i class="fa fa-paper-plane" aria-hidden="true"></i> Approved</button>

            <button type="submit" class="btn btn-danger btn-l btnCompensatory pull-right" name="Command" value="Resubmit"><i class="fa fa-paper-plane" aria-hidden="true"></i> Resubmit</button>

        </div>
    }
}




