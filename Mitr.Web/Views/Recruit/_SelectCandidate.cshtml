@model Mitr.Models.InterviewSelection.Approve
@*Testing*@
@using (Ajax.BeginForm("_SelectCandidate", "Recruit",
		new { src = ViewBag.src },
		new AjaxOptions { HttpMethod = "POST", OnSuccess = "ActionOnSuccess", OnBegin = "ShowLoadingDialog()", OnFailure = "CloseLoadingDialog()" },
	new { @id = "_SelectCandidateFrom", enctype = "multipart/form-data" })
	)
{
	<div class="row text-clr">
		<div class="col-lg-4 col-md-4 col-sm-6  form-group">
			<label>Candidate Name</label>
			@Html.TextBoxFor(x => Model.Name, new { @class = "form-control", @readonly = "readonly" })
			@Html.ValidationMessageFor(up => Model.Name, "", new { @class = "text-danger" })
		</div>
		<div class="col-lg-4 col-md-4 col-sm-6  form-group">
			<label>Current Salary</label>
			@Html.TextBoxFor(x => Model.CurrentSalary, new { @class = "form-control", @readonly = "readonly" })
			@Html.ValidationMessageFor(up => Model.CurrentSalary, "", new { @class = "text-danger" })

		</div>
		<div class="col-lg-4 col-md-4 col-sm-6  form-group">
			<label>Expected salary</label>
			@Html.TextBoxFor(x => Model.ExpectedSalary, new { @class = "form-control", @readonly = "readonly" })
			@Html.ValidationMessageFor(up => Model.ExpectedSalary, "", new { @class = "text-danger" })
		</div>
		<div class="col-sm-4 form-group">
			<label>Salary Offered</label>
			@Html.TextBoxFor(x => Model.NegotiationSalary, new { @class = "form-control", @type = "number" })
			@Html.ValidationMessageFor(up => Model.NegotiationSalary, "", new { @class = "text-danger" })
		</div>
		<div class="col-sm-4 form-group">
			<label>Expected Joining Date</label>
			@Html.TextBoxFor(x => Model.ExpectedJDate, new { @class = "form-control", @type = "date" })
			@Html.ValidationMessageFor(up => Model.ExpectedJDate, "", new { @class = "text-danger" })
		</div>
		<div class="col-sm-4 form-group">
			<label>Overall Average Score</label>
			@Html.TextBoxFor(x => Model.Score, new { @class = "form-control" })
			@Html.ValidationMessageFor(up => Model.Score, "", new { @class = "text-danger" })
		</div>

		@*<div class="col-sm-12">
			<h3 class="subheading">Attachment</h3>
		</div>*@
		<div class="col-lg-12  form-group">
			<label>Remarks/Special Condition </label>
			@Html.TextAreaFor(x => Model.Reason, new { @class = "form-control", @placeholder = "Enter" })
			@Html.ValidationMessageFor(up => Model.Reason, "", new { @class = "text-danger" })

		</div>

		<div class="col-sm-12">
			<h3 class="subheading">Attachment</h3>
		</div>

		<div class="col-sm-12">
			<div class="table-ds">
				<div class="table-responsive mt-0">
					<table class="table table-striped mt-0" id="tbleAttach">
						<thead>
							<tr>
								<th class="w-50 text-center">S No.</th>
								<th class="w-150">Choose File</th>
								<th class="w-150">File</th>
								<th>Description</th>
								<th class="w-50">Action</th>
							</tr>
						</thead>
						@if (Model.AttachmentsList.Count > 0)
						{
							int count = 0;
							<tbody>
								@for (int i = 0; i < Model.AttachmentsList.Count; i++)
								{
									count++;
									<tr>
										<td class="text-center">
											@*@Html.HiddenFor(model => model.AttachmentsList[i].FileExt)
											@Html.HiddenFor(model => model.AttachmentsList[i].ID)*@
											<label id="span_@count" name="span_@count">@count </label>
										</td>

										<td>
											@Html.TextBoxFor(model => model.AttachmentsList[i].Upload, new { @class = "form-control", @type = "file" })
											@Html.ValidationMessageFor(model => model.AttachmentsList[i].Upload, "", new { @class = "text-danger" })
										</td>
										<td>
											<a class="anchorlink" target="_blank" href="@Model.AttachmentsList[i].AttachmentPath">@Model.AttachmentsList[i].FileName</a>
										</td>
										<td>
											@Html.TextAreaFor(model => model.AttachmentsList[i].Description, new { @class = "form-control", @placeholder = "Enter" })
											@Html.ValidationMessageFor(model => model.AttachmentsList[i].Description, "", new { @class = "text-danger" })
										</td>
										<td class="text-center">
											@if (count > 1)
											{
												<a onclick="DeleteRow(this)" data-toggle='tooltip' data-original-title='Remove'> <i class='fas fa-window-close red-clr m-0'></i></a>
											}
										</td>
									</tr>
								}
							</tbody>
						}
					</table>
				</div>
				<div class="text-right mt-2"><button onclick="AddNewRow()" type="button" class="btn green-clr ripplelink"><i class="fas fa-plus"></i> Add Row</button></div>
			</div>
		</div>



		<div class="col-sm-12">
			<h3 class="subheading">Tagged With Vacancy</h3>
		</div>

		<div class="col-sm-12">
			<div class="table-ds">
				<div class="table-responsive mt-0">
					<table class="table table-striped mt-0">
						<thead>
							<tr>
								<th class="w-50 text-center">S No.</th>
								<th class="w-50 text-center">Action</th>
								<th class="w-150">REC Code</th>
								<th class="w-150">Job Title</th>
								<th class="w-150">Sub Title</th>
								<th class="w-150">Project</th>
								<th class="w-150">Location</th>

							</tr>
						</thead>
						@if (Model.TagRECRequestsList.Count > 0)
						{
							int count = 0;
							<tbody>
								@for (int i = 0; i < Model.TagRECRequestsList.Count; i++)
								{
									count++;
								<tr>
									<td>@count</td>
									<td class="text-center">
										<input type="checkbox" id="s_@count" class="selectedId" value="@Model.TagRECRequestsList[i].REC_ReqID" name="TagRECRequests">
										<label for="s_@count"></label>
									</td>
									<td>@Model.TagRECRequestsList[i].REC_Code</td>
									<td>@Model.TagRECRequestsList[i].JobTitle</td>
									<td>@Model.TagRECRequestsList[i].Job_SubTitle</td>
									<td>@Model.TagRECRequestsList[i].proj_name</td>
									<td>@Model.TagRECRequestsList[i].locationName</td>

								</tr>
								}
							</tbody>
						}
					</table>
				</div>
				
			</div>
		</div>

		<div class="col-md-12 inpdgn">
			@Html.LabelFor(x => Model.chkConsider)
			@Html.CheckBoxFor(x => Model.chkConsider, new { @class = "form-control" })

			@Html.ValidationMessageFor(up => Model.chkConsider, "", new { @class = "text-danger" })

		</div>
		<div class="col-lg-12 text-center mt-3">
			<button type="submit" name="Command" value="Save" class="btn mtr-o-grn btn-l ripplelink pull-right"><i class="fas fa-save"></i> Save</button>
			<button type="button" class="btn cnl-btn ripplelink  pull-right" data-dismiss="modal"><i class="fas fa-times"></i> Cancel</button>
		</div>

	</div>
}
	<script>
		// extend jquery range validator to work for required checkboxes
		var defaultRangeValidator = $.validator.methods.range;
		$.validator.methods.range = function (value, element, param) {
			if (element.type === 'checkbox') {
				// if it's a checkbox return true if it is checked
				return element.checked;
			} else {
				// otherwise run the default validation function
				return defaultRangeValidator.call(this, value, element, param);
			}
		}
		</script>