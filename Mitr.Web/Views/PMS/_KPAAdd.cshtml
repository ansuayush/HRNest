
@model PMS.KPA.Add
@{
	List<SelectListItem> DYesNo = new List<SelectListItem>
{
new SelectListItem{Text="Yes",Value="Yes" },
new SelectListItem{Text="No",Value="No" }
};
	 
}


@if (Model.PMS_KPAID == 0)
{
	using (Ajax.BeginForm("_KPAAdd", "PMS",
			new { src = ViewBag.src },
	new AjaxOptions { HttpMethod = "POST", OnSuccess = "OnKPAAddSuccess", OnBegin = "ShowLoadingDialog()" },
	new { @id = "_KPAAddFrom" })
	)
	{

		@Html.AntiForgeryToken()
		@Html.HiddenFor(x => Model.PMS_KPAID)

		<div class="row">

			<div class="col-lg-12 form-group">
				<label>Key Performance Area<sup>*</sup></label>
				@Html.TextAreaFor(model => model.Area, new { @class = "form-control h-100 noneresize", @placeholder = "Enter Area" })
				@Html.ValidationMessageFor(model => model.Area, "", new { @class = "text-danger" })
			</div>


			<div class="col-lg-3 col-md-3 col-sm-6 form-group">
				<label>UOM<sup>*</sup></label>
				<select id="@Html.IdFor(x => Model.UOMID)" name="@Html.NameFor(x => Model.UOMID)" class="form-control applyselect" onchange="ChangeUOM()" data-val-required="You missed UOM" data-val="true">
					<option t="" ch="" value="">Select UOM</option>
					@foreach (var item in ViewBag.UOMList)
					{
						<option @(item.PMSUOMID == Model.UOMID ? "selected" : "") ch="@item.AutoRating" t="@item.Type" value="@item.PMSUOMID">@item.Name</option>
					}
				</select>

				@Html.ValidationMessageFor(model => Model.UOMID, "", new { @class = "text-danger" })
			</div>

			<div class="col-lg-3 col-md-3 col-sm-6 form-group" id="DivType">
				<label>KPA Type</label>
				@{
					List<SelectListItem> D1 = new List<SelectListItem>
{
								new SelectListItem{Text="Postive",Value="Postive" },
								new SelectListItem{Text="Negative",Value="Negative" }
								};
				}
				@Html.DropDownListFor(model => model.IncType, new SelectList(D1, "Value", "text", Model.IncType), "Select", new { @class = "form-control applyselect" })
				@Html.ValidationMessageFor(model => model.IncType, "", new { @class = "text-danger" })


			</div>

			<div class="col-lg-3 col-md-3 col-sm-6 form-group">
				<label>Institutional Monitoring</label>

				@Html.DropDownListFor(model => model.IsMonitoring, new SelectList(DYesNo, "Value", "text", Model.IsMonitoring), "Select", new { @class = "form-control applyselect" })
				@Html.ValidationMessageFor(model => model.IsMonitoring, "", new { @class = "text-danger" })
			</div>
			<div class="col-lg-3 col-md-3 col-sm-6 form-group">
				<label>Mandatory</label>

				@Html.DropDownListFor(model => model.IsMandatory, new SelectList(DYesNo, "Value", "text", Model.IsMonitoring), "Select", new { @class = "form-control applyselect" })
				@Html.ValidationMessageFor(model => model.IsMandatory, "", new { @class = "text-danger" })
			</div>
			<div class="col-lg-3 form-group">
				<label>Priority</label>
				@Html.TextBoxFor(model => model.Priority, new { @class = "form-control" })
				@Html.ValidationMessageFor(model => model.Priority, "", new { @class = "text-danger" })
			</div>

			<div class="col-sm-12 mb-0 form-group UOMisText">
				<input type="checkbox" id="chk1" name="@Html.NameFor(x => x.ChkAutoRating)" @(Model.AutoRating == "Yes" ? "checked" : "") onchange="ChkAutoCal()">
				<label for="chk1"> Auto calculate rating <i class="fas fa-info-circle" data-toggle="tooltip" title="System can suggest rating against KPA"></i> </label>
			</div>
			<div class="col-sm-12 form-group">
				<input type="checkbox" id="chk2" name="@Html.NameFor(x => x.ChkProbation)" @(Model.IsProbation == "Yes" ? "checked" : "")>
				<label for="chk2"> Applicable for employees on probation period <i class="fas fa-info-circle" data-toggle="tooltip" data-original-title="Will be applicable for probation employees"></i> </label>
			</div>
			


			<div class="col-lg-12 text-center">
				<button type="button" data-dismiss="modal" class="btn cnl-btn ripplelink  pull-right"><i class="fas fa-times"></i> Close</button>

				@if (Model.PMS_KPAID > 0)
				{
					<button type="submit" class="btn  mtr-g-grn btn-l ripplelink pull-right" name="Command" value="Add"><i class="fa fa-paper-plane" aria-hidden="true"></i> Update</button>
				}
				else
				{

					<button type="submit" class="btn  mtr-o-grn btn-l ripplelink pull-right" name="Command" value="Add"><i class="fa fas fa-save" aria-hidden="true"></i> Save</button>
				}
			</div>
		</div>

	}

	<script>
$(document).ready(function(){
  $('[data-toggle="tooltip"]').tooltip();
});
</script>

}
else
{
	<div class="row">

		<div class="col-lg-12 form-group">
			<label>Key Performance Area</label>
			@Html.TextAreaFor(model => model.Area, new { @class = "form-control h-100 noneresize", @placeholder = "Enter Area", @disabled = "disabled" })
		</div>


		<div class="col-lg-3 col-md-3 col-sm-6 form-group">
			<label>UOM</label>
			<select id="@Html.IdFor(x => Model.UOMID)" name="@Html.NameFor(x => Model.UOMID)" class="form-control applyselect" disabled="disabled" >
				<option t="" value="">Select UOM</option>
				@foreach (var item in ViewBag.UOMList)
				{
					<option @(item.PMSUOMID == Model.UOMID ? "selected" : "") ch="@item.AutoRating" t="@item.Type" value="@item.PMSUOMID">@item.Name</option>
				}
			</select>

			
		</div>

		<div class="col-lg-3 col-md-3 col-sm-6 form-group UOMisText">
			<label>KPA Type</label>
			<select class="form-control applyselect" disabled="disabled">
				<option value="@Model.IncType">@Model.IncType</option>
			</select>
		</div>

		<div class="col-lg-3 col-md-3 col-sm-6 form-group">
			<label>Institutional Monitoring</label>
			<select class="form-control applyselect" disabled="disabled">
				<option value="@Model.IsMonitoring">@Model.IsMonitoring</option>
			</select>
		</div>
		<div class="col-lg-3 col-md-3 col-sm-6 form-group">
			<label>Mandatory</label>
			<select class="form-control applyselect" disabled="disabled">
				<option value="@Model.IsMandatory">@Model.IsMandatory</option>
			</select>
			
		</div>

		<div class="col-lg-3 form-group">
			<label>Priority</label>
			@Html.TextBoxFor(model => model.Priority, new { @class = "form-control", @disabled = "disabled" })
			@Html.ValidationMessageFor(model => model.Priority, "", new { @class = "text-danger" })
		</div>

		<div class="col-sm-12 UOMisText mb-0 form-group">
			<input type="checkbox" id="chk1" name="@Html.NameFor(x => x.ChkAutoRating)" @(Model.AutoRating == "Yes" ? "checked" : "") disabled="disabled">
			<label for="chk1"> Auto calculate rating 1 <i class="fas fa-info-circle" data-toggle="tooltip" title="System can suggest rating against KPA"></i> </label>
		</div>
		<div class="col-sm-12 form-group ">
			<input type="checkbox" id="chk2" name="@Html.NameFor(x => x.ChkProbation)" @(Model.IsProbation == "Yes" ? "checked" : "") disabled="disabled">
			<label for="chk2"> Applicable for employees on probation period <i class="fas fa-info-circle" data-toggle="tooltip" data-original-title="Will be applicable for probation employees"></i> </label>
		</div>

		<div class="col-lg-12 text-center">
			<button type="button" data-dismiss="modal" class="btn cnl-btn ripplelink  pull-right"><i class="fas fa-times"></i> Close</button>
		</div>
		
	</div>

<script>
$(document).ready(function(){
  $('[data-toggle="tooltip"]').tooltip();
});
</script>

}
