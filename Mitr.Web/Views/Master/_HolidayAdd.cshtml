
@model Mitr.Models.Holiday
@using System.Data
@{ Model.ColorName = "rgb(249,161,58)^Orange"; }

@using (Ajax.BeginForm("_HolidayAdd", "Master",
        new { src = ViewBag.src },
        new AjaxOptions { HttpMethod = "POST", OnSuccess = "OnSuccess" },
    new { @id = "_HolidayAddFrom" })
    )
{

    @Html.AntiForgeryToken()
    @Html.HiddenFor(x => Model.HolidayID)
    @Html.HiddenFor(x => Model.ColorName)
    <div class="row">
        <div class="col-lg-6 col-md-6 col-sm-6 form-group">
            <label>Holiday Name<sup>*</sup></label>
            @Html.TextBoxFor(model => model.Name, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })
        </div>

        <div class="col-lg-6 col-md-6 col-sm-6 form-group">
            <label>Date<sup>*</sup></label>
            @Html.TextBoxFor(model => model.Date, new { @class = "form-control", @type = "date" })
            @Html.ValidationMessageFor(model => model.Date, "", new { @class = "text-danger" })
        </div>
        @*<div class="col-lg-6 col-md-6 col-sm-6 form-group">
            <label>Color </label>
            <select id="@Html.IdFor(model => model.ColorName)" name="@Html.NameFor(model => model.ColorName)" class="form-control applyselect">
                <option Value="">Select</option>
                <option @(Model.ColorName == "Orange" ? "selected" : "") Value="rgb(249,161,58)^Orange">Orange</option>
                <option @(Model.ColorName == "Light Green" ? "selected" : "") Value="rgb(174,212,119)^Light Green">Light Green</option>
                <option @(Model.ColorName == "Dark Green" ? "selected" : "") Value="rgb(79,134,154)^Dark Green">Dark Green</option>
                <option @(Model.ColorName == "Mulberry" ? "selected" : "") Value="rgb(129,6,84)^Mulberry">Mulberry</option>
                <option @(Model.ColorName == "Purple" ? "selected" : "") Value="rgb(105,32,126)^Purple">Purple</option>
                <option @(Model.ColorName == "Lavender" ? "selected" : "") Value="rgb(112,130,192)^Lavender">Lavender</option>
                <option @(Model.ColorName == "Purplish Blue" ? "selected" : "") Value="rgb(137,155,207)^Purplish Blue">Purplish Blue</option>
                <option @(Model.ColorName == "Royal Blue" ? "selected" : "") Value="rgb(0,79,163)^Royal Blue">Royal Blue</option>
            </select>
            @Html.ValidationMessageFor(model => model.ColorCode, "", new { @class = "text-danger" })
        </div>*@
        <div class="col-lg-12 col-md-12 col-sm-6 form-group">
            <label>Location</label>

            <select class="selectmtr" multiple="multiple" id="@Html.IdFor(model => model.LocationID )" name="@Html.NameFor(model => model.LocationID)">
                @if (ViewBag.LocationList != null)
                {
                    foreach (DataRow item in ViewBag.LocationList.Tables[0].Rows)
                    {
                        if (item["IsActive"].ToString().ToLower() == "true")
                        {
                            <option @(!string.IsNullOrEmpty(Model.LinkedLocationID) && ("," + Model.LinkedLocationID + ",").Contains("," + item["ID"].ToString() + ",") ? "selected" : "") value="@item["ID"]">@item["Location_name"]</option>
                        }

                    }
                }               
            </select>

            @*<select class="form-control applyselect" multiple id="@Html.IdFor(model => model.LocationID )" name="@Html.NameFor(model => model.LocationID)">
                @if (ViewBag.LocationList != null)
                {
                    foreach (DataRow item in ViewBag.LocationList.Tables[0].Rows)
                    {
                        if (item["IsActive"].ToString().ToLower() == "true")
                        {
                            <option @(!string.IsNullOrEmpty(Model.LinkedLocationID) && ("," + Model.LinkedLocationID + ",").Contains("," + item["ID"].ToString() + ",") ? "selected" : "") value="@item["ID"]">@item["Location_name"]</option>
                        }

                    }
                }
            </select>*@
        </div>

        <div class="col-lg-12 col-md-12 col-sm-6 form-group">
            <label>Remarks</label>
            @Html.TextAreaFor(model => model.Remarks, new { @class = "form-control" })
            @Html.ValidationMessageFor(model => model.Remarks, "", new { @class = "text-danger" })
        </div>
    </div>

    <div class="text-center">

        @if (Model.HolidayID > 0)
        {
            <button type="submit" class="btn mtr-o-grn btn-l ripplelink pull-right" name="Command" value="Add"><i class="fa fa-paper-plane" aria-hidden="true"></i> Update</button>
        }
        else
        {
            <button type="submit" class="btn mtr-o-grn btn-l ripplelink pull-right" name="Command" value="Add"><i class="fa fa-paper-plane" aria-hidden="true"></i> Submit</button>
        }
        <button type="button" class="btn cnl-btn ripplelink" data-dismiss="modal"><i class="fas fa-times"></i>Close</button>
    </div>

}


<script type="text/javascript">
    $(document).ready(function() {
        $('.selectmtr').multiselect({
            enableFiltering: true,
            includeSelectAllOption: true,
            maxHeight: 400,
            dropUp: true, 
            enableCaseInsensitiveFiltering: true
        });
    });
</script>