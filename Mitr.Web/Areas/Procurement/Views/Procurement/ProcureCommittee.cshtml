
@{

    ViewBag.Title = "ProcurementCommitte";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link href="~/Areas/DigitalLibrary/assets/css/tagsinput.css" rel="stylesheet" />

<script src="~/Areas/DigitalLibrary/assets/js/tagsinput.js"></script>

<input type="hidden" id="hdnMasterTableId" value="0" />
<input type="hidden" id="hdnCateId" />
<input type="hidden" id="hdnLoggedInUser" />
<!-- Start -->
<div class="inner-main defult-height p-3 pb-0">
    <h1 class="heading-one mb-0">
        Procurement Committee Master
        <span class="hdbtn"><a onclick="ClearFormControl()" class="btn mtr-g-grn btn-l ripplelink " href="" data-toggle="modal" data-target="#cm"><i class="fa fa-plus"></i>Add</a></span>
    </h1>
    <div class="tab-main mb-3">

        <ul id="tabs" class="nav nav-tabs " role="tablist">
            <li class="nav-item"> <a id="tab-A" href="#pending" class="nav-link active ripplelink" data-toggle="tab" role="tab"><i class="fas fa-clock"></i>Live</a> </li>
            <li class="nav-item"> <a id="tab-B" href="#approved" class="nav-link ripplelink" data-toggle="tab" role="tab"><i class="fas fa-check"></i>Legacy Data</a> </li>

        </ul>

        <div id="content" class="tab-content p-0" role="tablist">
            <!-- --->
            <div id="pending" class="card tab-pane fade show   active" role="tabpanel" aria-labelledby="tab-A">
                <div class="card-header" role="tab" id="heading-A">
                    <h5 class="mb-0"> <a data-toggle="collapse" href="#collapse-A" aria-expanded="true" aria-controls="collapse-A">Pending <i class="fas fa-clock"></i></a> </h5>
                </div>
                <div id="collapse-A" class="collapse show" data-parent="#content" role="tabpanel" aria-labelledby="heading-A">
                    <div class="table-responsive">
                        <table class="table mt-2" id="tblLive">
                            <thead>
                                <tr>
                                    <th width="10">S.No</th>
                                    <th>Location</th>
                                    <th width="100">Effective Date </th>
                                    <th width="130">Min Procurement Value</th>
                                    <th width="130">Max Procurement value</th>
                                    <th width="130">Total no. of members</th>
                                    <th width="150">Inserted Date</th>
                                    <th width="150"> Updated Date  </th>
                                    <th width="60">Status </th>
                                    <th class="text-center" width="60">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                              

                            </tbody>

                        </table>
                    </div>
                </div>
            </div>

            <div id="approved" class="card tab-pane fade " role="tabpanel" aria-labelledby="tab-b">
                <div class="card-header" role="tab" id="heading-A">
                    <h5 class="mb-0"> <a data-toggle="collapse" href="#collapse-b" aria-expanded="true" aria-controls="collapse-b">Approved <i class="fas fa-check"></i></a> </h5>
                </div>
                <div id="collapse-b" class="collapse " data-parent="#content" role="tabpanel" aria-labelledby="heading-b">
                    <div class="table-responsive">
                        <table class="table mt-2" id="tblLegacy">
                            <thead>
                                <tr>
                                    <th width="10">S.No</th>
                                    <th>Location</th>
                                    <th width="100">Effective Date </th>
                                    <th width="130">Min Procurement Value</th>
                                    <th width="130">Max Procurement value</th>
                                    <th width="130">Total no. of members</th>
                                    <th width="150">Inserted Date</th>
                                    <th width="150"> Updated Date  </th>

                                    <th width="60">Status </th>
                                    <th class="text-center" width="60">Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                

                            </tbody>

                        </table>
                    </div>
                </div>
            </div>





        </div>

    </div>

</div>
<!-- ENd -->

<div class="modal fade" id="cm">
    <div class="modal-dialog  modal-lg">
        <div class="modal-content">
            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">
                    <i class="fa fa-plus" aria-hidden="true"></i> <span id="spnHead">Procurement Committee</span>
                </h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>

            <div class="modal-body ">
   
                <div class="row">
                    <div class="col-sm-3 form-group">
                        <label>Doc No<span class="required">*</span> </label>
                        <input type="text" disabled="" id="ReqNo" placeholder="Enter" name="">
                    </div>

                    <div class="col-sm-3 form-group">
                        <label>Doc Date<span class="required">*</span> </label>
                        <input type="text" disabled="" id="ReqDate" placeholder="Enter" name="">
                    </div>
                    <div class="col-sm-6 form-group"></div>
                   
                    <div class="col-sm-3 form-group">
                        <label>Effective Date<span class="required">*</span> </label>
                        <input class="form-control Mandatory datepicker" autocomplete="off" placeholder="dd-mm-yyyy" id="EffectiveDate" onchange="HideErrorMessage(this)">
                        <span id="spEffectiveDate" class="text-danger field-validation-error" style="display:none;">Hey, You missed this field!!</span>
                    </div>
                    <div class="col-sm-3 form-group">
                        <label>Min Procurement Value<span class="required">*</span> </label>
                        <input type="number" class="form-control Mandatory" placeholder="Enter" id="minProcure" onchange="HideErrorMessage(this)">
                        <span id="spminProcure" class="text-danger field-validation-error" style="display:none;">Hey, You missed this field!!</span>
                    </div>
                    <div class="col-sm-3 form-group">
                        <label>Max Procurement Value<span class="required">*</span> </label>
                        <input type="number" class="form-control Mandatory" placeholder="Enter" id="maxProcure" onchange="HideErrorMessage(this)">
                        <span id="spmaxProcure" class="text-danger field-validation-error" style="display:none;">Hey, You missed this field!!</span>
                    </div>
                    <div class="col-sm-12 form-group">
                        <hr>
                        <span class="hr-aps"><i class="fas fa-user-tie"></i>Member Details </span>
                    </div>
                    <div class="col-sm-3 form-group">
                        <label>Committee Member<span class="required">*</span> </label>
                        <select class="form-control applyselect Mandatory1" id="ddlMember" onchange="HideErrorMessage(this)">
                        </select>
                        <span id="spddlMember" class="text-danger field-validation-error" style="display:none;">Hey, You missed this field!!</span>
                    </div>
                    <div class="col-sm-3 form-group">
                        <label>Tenure Start Date<span class="required">*</span> </label>
                        <input autocomplete="off" class="form-control Mandatory1 datepicker" placeholder="Enter" id="tbStartDate" onchange="HideErrorMessage(this)">
                        <span id="sptbStartDate" class="text-danger field-validation-error" style="display:none;">Hey, You missed this field!!</span>
                    </div>

                    <div class="col-sm-3 form-group">
                        <label>Tenure End Date<span class="required">*</span> </label>
                        <input autocomplete="off" class="form-control Mandatory1 datepicker" placeholder="Enter" id="tbEndDate" onchange="HideErrorMessage(this)">
                        <span id="sptbEndDate" class="text-danger field-validation-error" style="display:none;">Hey, You missed this field!!</span>
                    </div>
                    <div class="col-sm-3 form-group align-self-end">
                        <button type="button" onclick="AddMember()" class="btn green-clr m-0"><i class="fas fa-plus"></i>Add</button>
                    </div>
                    <div class="col-lg-12 form-group">
                        <div class="table-responsive">
                            <table id="tblProjects" class="table scd-tbl-bg table-stripted mb-0 mt-0">
                                <thead>
                                    <tr>
                                        <th>Committee Member</th>
                                        <th width="100">Tenure Start Date</th>
                                        <th width="140">Tenure End Date</th>
                                        <th width="10"></th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                    <div class="col-lg-12 form-group">
                        <div class="table-responsive">
                            <table id="tbllocation" class="table scd-tbl-bg table-stripted  mt-0">
                                <thead>
                                    <tr>
                                        <th width="250">Location</th>
                                        <th>Remarks</th>
                                        <th width="10"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>

                                            <select class="form-control applyselect Mandatory2" id="ddlLocation" onchange="HideErrorMessage(this)">
                                            </select>
                                            <span id="spddlLocation" class="text-danger field-validation-error" style="display:none;">Hey, You missed this field!!</span>
                                            <span id="spddlLocation1" class="text-danger field-validation-error" style="display:none;">Hey, Please add atleast one location!!</span>

                                        </td>

                                        <td class="text-center"><textarea id="txtRemark" class="form-control maxSize[1200]" placeholder="Enter"></textarea></td>
                                        <td>

                                        </td>
                                    </tr>


                                </tbody>
                            </table>
                        </div>

                        <div class="text-right"><button type="button" onclick="AddLocation()" class="btn green-clr m-0"><i class="fas fa-plus"></i>Add</button></div>
                    </div>
                    <div class="col-lg-12 text-center mt-3">
                        <button id="btnSave" type="button" onclick="SaveProcureCommittee()" class="btn mtr-o-grn btn-l ripplelink pull-right" name="Command" value="Add"><i class="fas fa-save"></i>Save</button>
                        <button type="button" data-dismiss="modal" class="btn cnl-btn ripplelink  pull-right"><i class="fas fa-times"></i> Close</button>
                    </div>
                </div>

                </div>
            </div>

    </div>

</div>
@section scripts    {
    @System.Web.Optimization.Scripts.Render("~/bundle/unobtrusivejs")
    @System.Web.Optimization.Scripts.Render("~/bundle/dataTablesjs")
    <script src="~/assets/design/Scripts/AddInit.js?v=@clsApplicationSetting.GetWebConfigValue("Version")"></script>
    <script src="~/Areas/Procurement/DevScript/ProcureCommittee.js"></script>

    <script>
		 var IsEDUser = '@ViewBag.IsED';
       var loggedinUserid = '@ViewBag.UserId';
		var loggedinUserName = '@ViewBag.UserName';
		var UserGrade = '@ViewBag.Grade';
			var IsPM = '@ViewBag.IsPM';
    </script>
}