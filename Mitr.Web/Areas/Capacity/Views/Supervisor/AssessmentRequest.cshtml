
@{
	ViewBag.Title = "AssessmentRequest";
	Layout = "~/Views/Shared/_Layout.cshtml";
}


<input type="hidden" id="hdnLoggedInUser" />
<!-- Start -->
<div class="inner-main  defult-height">
	<div class="row">
		<div class="col-sm-4 align-self-center"><h1 class="heading-one mb-3">Assessment Request</h1></div>
	</div>

	<!-- tab--->
	<div class="tab-main mb-3">
		<ul id="tabs" class="nav nav-tabs " role="tablist">
			<li class="nav-item"> <a id="tab-A" href="#pending" onclick="AssessmentRequestPending();" class="nav-link ripplelink active" data-toggle="tab" role="tab" aria-selected="false"><i class="far fa-clock"></i>Pending </a> </li>
			<li class="nav-item"> <a id="tab-B" href="#Completed" onclick="BindTrainingRequestCompleted();" class="nav-link ripplelink" data-toggle="tab" role="tab"><i class="fas fa-check"></i>Completed</a> </li>
		</ul>
		<div id="content" class="tab-content shadow-box p-0" role="tablist">
			<div id="pending" class="card tab-pane fade active show" role="tabpanel" aria-labelledby="tab-A">
				<div class="card-header" role="tab" id="heading-A">
					<h5 class="mb-0">
						<!-- Note: `data-parent` removed from here -->
						<a data-toggle="collapse" href="#collapse-A" aria-expanded="true" aria-controls="collapse-A">Committee Assign</a>
					</h5>
				</div>

				<!-- Note: New place of `data-parent` -->
				<div id="collapse-A" class="card tab-pane fade active show" data-parent="#content" role="tabpanel" aria-labelledby="heading-A">
					<div class="card-body p-0">
						<!-- Start -->
						<div class="card-body p-0 pt-2">
							<div class="table-responsive">
									<table id="tblAssessmentRequestList" class="table mt-0">
										<thead>
											<tr>
												<th class="w-33">S.No </th>
												<th >Req.No </th>
												<th >Req.Date </th>
												<th>Training Type</th>
												<th>Training Name</th>
												<th >Mentor</th>
												<th >Team Attendees </th>
												<th >Date Of Assessment</th>
												<th >Action</th>
												<th style="display:none">ReqID</th>
												@*<th style="display: none">ClubbedID</th>
												<th style="display: none">UserTrainingID</th>*@
											</tr>
										</thead>
									</table>
							</div>
						</div>
						<!-- End -->
					</div>
				</div>
			</div>
			<div id="Completed" class="card tab-pane fade" role="tabpanel" aria-labelledby="tab-B">
				<div class="card-header" role="tab" id="heading-B">
					<h5 class="mb-0"> <a class="collapsed" data-toggle="collapse" href="#collapse-B" aria-expanded="false" aria-controls="collapse-B">Stage </a> </h5>
				</div>
				<div id="collapse-B" class="collapse" data-parent="#content" role="tabpanel" aria-labelledby="heading-B">
					<!-- Start -->
					<div class="card-body p-0 pt-2">
						<div class="table-responsive">
							<table id="tblAssessmentRequestCompletedList" class="table mt-0">
								<thead>
									<tr>
										<th class="w-33">S.No </th>
										<th >Req.No </th>
										<th >Req.Date </th>
										<th>Training Type</th>
										<th>Training Name</th>
										<th >Mentor</th>
										<th >Team Attendees </th>
										<th >Date Of Assessment</th>
										<th style="width:100px">Action</th>
										<th style="display:none">ReqID</th>
										@*<th style="display: none">ClubbedID</th>
										<th style="display: none">UserTrainingID</th>*@
									</tr>
								</thead>

							</table>
						</div>
						<!-- End -->
					</div>

				</div>
			</div>
		</div>

	</div>
	<!--- close tab --->

</div>
<div class="modal fade pop-dgn show" id="ModalSupervisorAssessmentComment" style="padding-right: 8px;" aria-modal="true">
	<div class="modal-dialog mdl-lg">
		<div class="modal-content">
			<!-- Modal Header -->
			<div class="modal-header blk-gdn-btn">
				<h4 class="modal-title"><i class="fas fa-Comment"></i>Comment </h4>
				<div class="close" data-dismiss="modal">×</div>
			</div>

			<!-- Modal body -->
			<div class="modal-body p-2">
				<div class="row">
					<div class="col-md-4 col-sm-4 form-group">
						<label>Training Name</label>
						<p id="lblTrainingName"></p>
					</div>
					<div class="col-md-4 col-sm-4 form-group">
						<label>From Date</label>
						<p id="lblFromDate"></p>
					</div>

					<div class="col-md-4 col-sm-4 form-group">
						<label>To Date</label>
						<p id="lblToDate"></p>
					</div>
					<div class="col-md-4 col-sm-4 form-group">
						<label>Mentor</label>
						<p id="lblMentorNames"></p>
					</div>
					<div class="col-md-12">
						<div class="table-responsive">
							<table class="table va-t mt-0">
								<thead>
									<tr>
										<th class="w-30">S.No </th>
										<th class="w-150">Employee Name</th>
										<th class="w-200">Comment <small>Min 50 and Max 200</small></th>
										<th class="w-200">Skill <i class="fas fa-info-circle" data-toggle="tooltip" title="" data-original-title="Reach out to HR for any other"></i></th>
										<th style="display:none">ReqID</th>
										<th style="display:none">ClubbedID</th>
										<th style="display:none">UserTrainingID</th>
									</tr>
								</thead>
								<tbody id="tblEmployeeNames">
								</tbody>
							</table>
						</div>
					</div>
					<div class="col-sm-12 form-group">
						<label>Instructed by HR</label>
						<p id="lblInstructedByHR"></p>
					</div>
					<div class="col-sm-12  text-center mt-2">
						<div class="row">
							<div class="col-sm-6  text-right mt-2">
								<button type="button" id="btnSupervisorCommentsClose" class="btn cnl-btn ripplelink  pull-right" data-dismiss="modal"><i class="fas fa-times"></i> Close</button>
							</div>
							<div class="col-sm-6  text-left mt-2">
								<button type="button" id="btnSupervisorCommentsSubmit" onclick="SaveSupervisorComments();" class="btn mtr-o-grn"><i class="fa fa-paper-plane" aria-hidden="true"></i> Submit</button>
							</div>
						</div>
					</div>
					
				</div>

			</div>
		</div>
	</div>
</div>
@section scripts    {
	@System.Web.Optimization.Scripts.Render("~/bundle/unobtrusivejs")
	@System.Web.Optimization.Scripts.Render("~/bundle/dataTablesjs")
	<script src="~/assets/design/Scripts/AddInit.js?v=@clsApplicationSetting.GetWebConfigValue("Version")"></script>
	<script src="~/Areas/Capacity/DevScript/SupervisorAssessmentRequest.js"></script>
	<script>
		var IsEDUser = '@ViewBag.IsED';
        var loggedinUserid = '@ViewBag.UserId';     
		var loggedinUserName = '@ViewBag.UserName';
		var UserGrade = '@ViewBag.Grade';
        var IsPM = '@ViewBag.IsPM';
		var EmpID = '@ViewBag.EmpID';
	</script>
}
<!----- add slot ---->
<!-- TASK Modal -->
<style>
	/* Adjust Select2 dropdown width */
	.select2-container {
		width: 100% !important;
	}
</style>
<script>

	function ViewAssessmentRequest(ID) {
		if (ID != "") {
			window.location.href = virtualPath + 'HR/AssessmentRequestDetails?id=' + ID;
		}
		else {
			console.log(obj);
		}
	}
</script>


<script>
	// JavaScript Document
	$(function () {
		$('#js-nav-toggle').click(function (e) {
			e.preventDefault();
			$("html").toggleClass("is-sideopen");
			$("#js-nav-toggle").toggleClass("is-active");
		});

		var $content = $('.l-contents');
		var $header = $('.l-header');


		$content.click(function () {
			$("html").removeClass("is-sideopen");
		});


		$header.click(function () {
			$("html").removeClass("is-sideopen");
		});


	});


	$(function () {

		var $dropdown = $('.js-dropdown');
		var $content = $('.l-contents');
		var $toggle = $('#js-nav-toggle');


		$('.js-dropdown-menu').hide();
		$dropdown.click(function () {
			$('i').removeClass('is-rotate');
			$('.js-dropdown-menu').slideUp(200);
			if ($('+.js-dropdown-menu', this).css('display') == 'none') {
				$('i', this).addClass('is-rotate');
				$('+.js-dropdown-menu', this).slideDown(200);
			}
		});


		$content.click(function () {
			$('i').removeClass('is-rotate');
			$('.js-dropdown-menu').slideUp(200);
			if ($('+.js-dropdown-menu', this).css('display') == 'none') {
				$('i', this).addClass('is-rotate');
				$('+.js-dropdown-menu', this).slideDown(200);
			}
		});


		$toggle.click(function () {
			$('i').removeClass('is-rotate');
			$('.js-dropdown-menu').slideUp(200);
			if ($('+.js-dropdown-menu', this).css('display') == 'none') {
				$('i', this).addClass('is-rotate');
				$('+.js-dropdown-menu', this).slideDown(200);
			}
		});

	});

	$(function () {
		$('.is-ac-close').hide();
		$(".is-ac-click").on("click", function () {
			if ($(this).children('i').is('.fa-angle-right')) {
				$(this).children('i')
					.removeClass('fa-angle-right')
					.addClass('fa-angle-down');
			} else {
				$(this).children('i')
					.removeClass('fa-angle-down')
					.addClass('fa-angle-right');
			}
			$(this).next().slideToggle(200);
		});

		$('.is-ac-close').hide();
		$(".is-ac-bar").on("click", function () {

			if ($(this).find('i').is('.fa-caret-down')) {

				$(this).find('i')
					.removeClass()
					.addClass('fa fa-caret-up');
			} else {
				$(this).find('i')
					.removeClass()
					.addClass('fa fa-caret-down');
			}
			$(this).next().slideToggle(200);
		});
	});




	//---------------------------------------------------
	// ▼　tab
	//---------------------------------------------------
	$(function () {
		var rwdTab = $('.c-tab'),
			switchPoint = 768,
			fadeSpeed = 300,
			slideSpeed = 300;

		var tabBtn = rwdTab.children('.c-tab-panel').children('.c-tab-heading'),
			contentsArea = rwdTab.children('.c-tab-panel').children('.c-tab-body');

		tabBtn.on('click', function () {
			if (!$(this).hasClass('c-tab-active')) {
				tabBtn.removeClass('c-tab-active');
				$(this).addClass('c-tab-active');

				if (window.innerWidth > switchPoint) {
					contentsArea.fadeOut(fadeSpeed);
					$(this).next().fadeIn(fadeSpeed);
				} else {
					contentsArea.slideUp(slideSpeed);
					$(this).next().slideDown(slideSpeed);
				}
			}
		});

		tabBtn.first().click();
	});



</script>
<!-- required -->

<script type="text/javascript" src="https://mitr2.c3india.org/assets/design/js/stellarnav.min.js"></script>
<script type="text/javascript">
	jQuery(document).ready(function ($) {
		jQuery('.stellarnav').stellarNav({
			theme: 'dark',
			breakpoint: 960,
			position: 'right',

		});
	});
</script>
<!-- required -->
<script>
	$("document").ready(function () {

		$('.dropdown-menu').on('click', function (e) {
			if ($(this).hasClass('dropdown-menu-form')) {
				e.stopPropagation();
			}
		});
	});


</script>
<script>

	var links = document.querySelectorAll('.ripplelink');

	for (var i = 0, len = links.length; i < len; i++) {
		links[i].addEventListener('click', function (e) {
			var targetEl = e.target;
			var inkEl = targetEl.querySelector('.ink');

			if (inkEl) {
				inkEl.classList.remove('animate');
			}
			else {
				inkEl = document.createElement('span');
				inkEl.classList.add('ink');
				inkEl.style.width = inkEl.style.height = Math.max(targetEl.offsetWidth, targetEl.offsetHeight) + 'px';
				targetEl.appendChild(inkEl);
			}

			inkEl.style.left = (e.offsetX - inkEl.offsetWidth / 2) + 'px';
			inkEl.style.top = (e.offsetY - inkEl.offsetHeight / 2) + 'px';
			inkEl.classList.add('animate');
		}, false);
	}
</script>
<script type="text/javascript">
	$(document).ready(function () {
		$(".dpselect").select2();
	});
</script>
<script type="text/javascript">
	$(window).scroll(function () {
		if ($(this).scrollTop() > 50) {
			$('.scrolltop:hidden').stop(true, true).fadeIn();
		} else {
			$('.scrolltop').stop(true, true).fadeOut();
		}
	});
	$(function () { $(".scroll-btm").click(function () { $("html,body").animate({ scrollTop: $(".thetop").offset().top }, ""); return false }) })
</script>
<script>
	$(function () {
		$('#finselector').change(function () {
			$('.finyear').hide();
			$('#' + $(this).val()).show();
		});
	});

</script>
<script type="text/javascript">
	function formChoice(x) {
		if (x == 0) {
			$('#field1').css('display', 'block');
			$('#field2').css('display', 'none');
		} else {
			$('#field1').css('display', 'none');
			$('#field2').css('display', 'block');
		}
	}

</script>

<script type="text/javascript">
	$('#membertype ').on('change', function () {
		$('#internal').css('display', 'none');
		if ($(this).val() === 'internal') {
			$('#internal').css('display', 'block');
		}

		$('#external').css('display', 'none');
		if ($(this).val() === 'external') {
			$('#external').css('display', 'block');
		}
	});

</script>
